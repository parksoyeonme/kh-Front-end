<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Variable & Scope</title>
</head>
<body>
    <h1>Variable & Scope</h1>
    <input type="button" value="실행" onclick="test1();">
    <script>
    //지역변수 : 함수안에 선언한 변수
    //전역변수 : 함수 밖에 선언한 변수. window객체(탭 최상위객체)의 속성
    //전역변수는 어디서든지 쓸수있지만 지역변수는 못쓴다
    var a = 100; //전역변수

    function test1(){
        var a =88;
        var b =99; //지역변수
        console.log("a =" + a);
        console.log("b =" + b);

        //전역변수 a를 호출
        //일반함수 안의 this는 window객체를 가리킨다.
        console.log("this.a = " + this.a)
    }

    //scope: 유효범위. 생존주기(life cycle)와 관련.
    //javascript에서는 c계열언어의 block scope가 아닌 function scope가 존재한다.
    if(true){
        var name = '홍길동'; 

    }
    console.log(name); // 콘솔창에서도 name이라고 치면 홍길동출력

    function foo(){
        var num = 100;

        if(true){
            var k = 200;
        }
        console.log("k = "+ k); //함수 안에있으니깐 출려된다
    }
    //생명주기가 함수안에서 이기떄문에 밖에 num은 출력할수가 없다.
    foo();
   // console.log(num); //Uncaught ReferenceError

    //반복문
    for(var i =0; i < 10; i++){
        console.log(i);
    }
    console.log(i); //10
    </script>

    <h2>hoisting</h2>
    <p>var키워드를 통해 선언된 변수는 각 script태그별로 끌어올려진다.(hoisting)</p>
    <script>
    var x; //hoistin 처리
    //function bar; 함수 hoisting처리
    console.log("x = " + x); //x = undefined
     
    //var x = 100;
     x = 100;
     //var x = 100; x라는 변수 를 초기화하기전에 사용하고 나중에 초기화해도 알아서 호이스팅해준대여

    console.log("x = " + x); //x = 100

    bar();
    function bar(){
        console.log("bar 호출!");
    }
      
    </script>
</body>
</html>