<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casting</title>
</head>
<body>
    <h1>형변환</h1>
    <h2>문자열, 숫자간 산술연산</h2>
    <input type="button" value="자동형변환" onclick="test1();">
    <input type="button" value="명시적형변환" onclick="test2();">
    <script>
    /*
    *명시적 형변환
    *NuMBER() 숫자와 문자가 있다면 NaN을 리턴
    *parseInt() 정수로 형변환. 좌측부터 변환가능한 데까지는 변환(좌측부터 그문자를 만나기전까지 변환)
    *parseFloat() 실수로 형변환. 좌측부터 변환가능한 데까지는 변환
    */
    function test2(){
        var money = '$1000.50원ㅋㅋㅋ';
        money = money.replace('$', ''); // $를 굳이 쓰고싶다면 이렇게 해야한다.
        //replace 정규표현식을 통해 숫자 아닌 문자를 먼저제거
       // money = money.replace(/[^0-9.]/g, ''); // 문자를 다 제거 1000.5
        console.log(Number(money)); //NaN
        console.log(parseInt(money)); //1000
        console.log(parseFloat(money)); //1000.5
    }

    function test1(){
    //컴퓨터 연산시 동일한 타입만 가능 -> 혹시 다를경우 자동형변환하여 연산

    console.log('7' + 7); //77
    console.log(typeof('7' + 7));//string

    //+, - 처리연산이 다르다
    console.log('7' -7); //0
    console.log(typeof('7'-7)); //number

    console.log('7' * 7); //49
    console.log(typeof('7' + 7));//string

    console.log('7' / 7); //1
    console.log(typeof('7'-7)); //number

    
    console.log('7' % 7); //0
    console.log(typeof('7'-7)); //number
    
    console.log('7' == 7); //true
    console.log(typeof('7' == 7)); //boolean

    console.log('abc' % 7); //Nan -> Not a number 오류아님하나의키워드
    console.log(typeof'abc' % 7); //NaN
    }
    </script>
    <p>@실습문제 : 사용자에게 두 숫자를 입력받고, 결과버튼을 눌렀을때 두 수의 합을 출력하세요.</p>
    <ul style="list-style:none;">
        <li><input type="number" name="num1" id="num1"></li>
        <li><input type="number" name="num2" id="num2"></li>
        <li><input type="button" value="결과" onclick="test3();"></li>
    </ul>
    <script>
     /*+
     * input태그의 value는 type속성 상관없이 무조건 string이다.
    */
    function test3(){
    // 태그자체가 오브젝트 취급하기 때문에 id나 name으로 직접접근이 가능합니다.
    //단 폼요소안에 있는 요소 text,radio,checkbox등은  폼태그가 생략될 경우에만 name속성으로 직접 접근이 가능합니다.
    //id 값이 고유한 값이므로 id값을 변수로 직접접근해서 사용가능 
    var val1 = Number(num1.value);
    var val2 = Number(num2.value);
    console.log(val1 + val2);
    console.log(typeof(val1 + val2));
    
    //console.log(num1.value + num2.value); //52
    //console.log(typeof(num1.value + num2.value)); //string
    //보여지기만 number 가져오는건 무조건 string -> 명시적형변환 꼭해줘라

    }
    </script>
    <h2>NaN | Infinity</h2>
    <input type="button" value="실행" onclick="test4();">
    <script>
    /*
    * NaN Not a Number 숫자가 아니다.
    * Infinity 무한대 : 자바스크립트에서는 수를 0으로 나누어도 오류가 발생하지 않는다
    */
    function test4(){
    console.log(10/0); //Infinity
    console.log(typeof(10/0)); //number
      
    //isNaN() : NaN여부확인 NaN이면 true, NaN이 아니면 false;
    var num = prompt("수를 입력하세요."); //일단 string임

    //숫자로 임의변환후 확인
    if(isNaN(num)) //isNaN에서 숫자로
        alert("숫자가 아닙니다.");
    else
        alert("숫자입니다");
    }
    </script>

    <h2>논리형으로 자동형변환</h2>
    <input type="button" value="실행" onclick="test5();">
    <script>
    /*
    *값이 있는 것은 true로 자동형변환
    *값이 없는 것은 false로 자동형변환
    */
    function test5(){
    //1은 값이 있어 true로 변환
    //1, -1, "안녕", document.getElementById("num1") 은 값이 있어 true로 변환
    //0, "", undefined, document.getElementById("num1213") -> null은 값이 없어 false로 반환
     // if(undefined){
    //   console.log('참');
    // }
    // else {
    //   console.log("거짓");
    // }

    //사용자입력값 체크
    // var s = prompt("아무말~");//확인("아무말", ""), 취소(null)
    // if(s)
    //   console.log(s);//"아무말"
    // else 
    //   console.log("아무말도 하지 않았습니다.");//"", null

    //요소가 존재하는지 체크
    var elem = document.querySelectorAll("#num1"); //1또는 0개 요소 리턴
    var elem = document.querySelectorAll("inputttt");//복수개의 요소 
    //요소존재한다고나옴 -> 껍데기만 남아서 length로 걸러서해야한다

    if(elem.length){
      //요소가 존재하는 경우
      console.log(elem);
    }
    else {
      //요소가 존재하지않는 경우
      console.log("요소가 존재하지않습니다.");
    }
  }
  </script>

</body>
</html>